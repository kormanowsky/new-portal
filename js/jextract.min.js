/**
    jExtract: a small function for extracting data from DOM.
    Version: 0.0.4
    Author: Mikhail Kormanowsky (@kormanowsky)
    Date: 13.12.2017
*/
function jExtract(t,n){if("function"!=typeof jQuery)throw"jExtract error: jExtract depends on jQuery, but it wasn`t loaded";t=t||{},n=n||$("html");var e=function(t){return"."==t?n:n.find(t)},r=function(t){var n,e;return c(t)?n=t:a(t)||(n=t[0],t.length>1&&(e=t.slice(1))),[n,e]},o=function(t){return void 0===t},u=function(t){return"object"==typeof t&&t instanceof Object&&!(t instanceof Array)},i=function(t){return"object"==typeof t&&t instanceof Array},c=function(t){return"string"==typeof t},a=function(t){return i(t)&&!t.length},f=function(t){return"function"==typeof t},p=function(t){return null===t},s=function(t){this._text=t},l={};return s.prototype.get=function(t){return t=t||!0,t?this._text.trim():this._text},s.prototype.match=function(t,n){var e=this.get().match(new RegExp(t));return!o(n)&&i(e)&&n in e?e[n]:e},s.prototype.toInt=function(t){return t=t||!1,!isNaN(parseInt(this.get()))||t?parseInt(this.get()):0},s.prototype.toFloat=function(t){t=t||!1;var n=this.get().replace(",",".");return!isNaN(parseFloat(n))||t?parseFloat(n):0},$.each(t,function(t,h){if(u(h))l[t]=jExtract(h,n);else{var y,g,j=["text",[]],x=["get",[]],v=!1,d=[];c(h)?y=e(h):(y=e(h[0]),u(h[1])?g=h[1]:i(h[1])&&!a(h[1])?j=r(h[1]):f(h[1])&&(j[0]=h[1]),f(h[2])?x[0]=h[2]:i(h[2])&&!a(h[2])&&(x=r(h[2])),o(h[3])||(v=!!h[3])),y.each(function(t,n){if(o(g)){var e,r,a,l=$(n);f(j[0])?(e=j[0],r=[l,t,y].concat(j[1]),a=null):c(j[0])?(e=l[j[0]],r=j[1],a=l):(e=function(){},a=null,r=[]);var h,v=e.apply(a,r);if(p(v)||o(v))return;u(v)||i(v)||c(v)?(v instanceof s||(v=new s(v+"")),f(x[0])?(e=x[0],r=[v,t].concat(x[1]),content=null):c(x[0])?(e=v[x[0]],r=x[1],a=v):(e=function(){},a=null,r=[]),h=e.apply(a,r)):h=v,d.push(h)}else d.push(jExtract(g,$(n)))}),!v&&d.length<2&&(d=d[0]),l[t]=d}}),l}
